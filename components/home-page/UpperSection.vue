<template>
    <div class="upper-section mb-12 mt-8 mx-16">
        <v-container>
            <!-- ===================================================================== -->
            <!-- ============================First Row================================ -->
            <!-- ====================================================================== -->

            <v-row>
                <v-col cols="12" sm="12" md="12" lg="4">
                    <div class="title d-flex  align-center mr-3" style="gap: 4px;">
                        <h3 style="color: #939393;  font-weight: 500;">{{ $t('upperSec.main') }} </h3>
                        <v-icon style="color: #939393; font-weight: 500;">mdi-chevron-left</v-icon>
                        <h3 style="font-weight: 700;"> {{ $t('upperSec.vitamin') }} </h3>
                    </div>
                </v-col>
            </v-row>
            <!-- ===================================================================== -->
            <!-- ============================Second Row================================ -->
            <!-- ====================================================================== -->
            <v-row>
                <!-- ============================First col================================ -->
                <v-col cols="12" sm="12" md="12" lg="2" class="pl-0">
                    <v-row justify="center">
                        <v-col cols="12">
                            <div class="small-potiles">
                                <ul class="potilss" style="list-style: none">

                                    <li>
                                        <img src="../../assets/images/centrum-centrum-multigummies-150-units 4s-centrum.png"
                                            alt="" style="width: 111px; height: 122.75px;">
                                    </li>
                                    <li>
                                        <img src="../../assets/images/centrum-centrum-multigummies-150-units 4s-centrum.png"
                                            alt="" style="width: 111px; height: 122.75px;">
                                    </li>
                                    <li>
                                        <img src="../../assets/images/centrum-centrum-multigummies-150-units 4s-centrum.png"
                                            alt="" style="width: 111px; height: 122.75px;">
                                    </li>

                                </ul>
                            </div>
                        </v-col>
                    </v-row>
                </v-col>


                <!-- ============================second col================================ -->
                <v-col cols="12" sm="12" md="8" lg="4" class="pr-0">
                    <v-row justify="center">
                        <v-col cols="12">
                            <div class="big-bottel" style="position: relative;">
                                <ul style="list-style: none; position: absolute ; right: 30px; top: 20px;">

                                    <li @click="toggleHeart" class="mb-5 heart-icon"
                                        :class="{ 'red-heart': isHeartFilled }">
                                        <svg width="37" height="35" viewBox="0 0 55 53" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" clip-rule="evenodd"
                                                d="M2.77789 25.4121C-0.128154 16.3392 3.2681 5.969 12.7933 2.90045C17.8037 1.28358 23.3341 2.23691 27.4996 5.37045C31.4402 2.32358 37.1737 1.29441 42.1787 2.90045C51.7039 5.969 55.1218 16.3392 52.2185 25.4121C47.6956 39.7934 27.4996 50.8704 27.4996 50.8704C27.4996 50.8704 7.45247 39.9613 2.77789 25.4121Z"
                                                stroke="#939393" stroke-width="3" stroke-linecap="round"
                                                stroke-linejoin="round" />
                                            <path d="M38.3333 12.1459C41.2312 13.083 43.2787 15.6694 43.5251 18.7055"
                                                stroke="#939393" stroke-width="3" stroke-linecap="round"
                                                stroke-linejoin="round" />
                                        </svg>

                                    </li>

                                    <li class="share-icon">
                                        <svg width="37" height="35" viewBox="0 0 50 56" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M40.6662 54.2222C42.7437 54.2222 44.7361 53.3969 46.2052 51.9279C47.6742 50.4588 48.4995 48.4664 48.4995 46.3889C48.4995 44.3113 47.6742 42.3189 46.2052 40.8499C44.7361 39.3808 42.7437 38.5555 40.6662 38.5555C38.5886 38.5555 36.5962 39.3808 35.1272 40.8499C33.6581 42.3189 32.8328 44.3113 32.8328 46.3889C32.8328 48.4664 33.6581 50.4588 35.1272 51.9279C36.5962 53.3969 38.5886 54.2222 40.6662 54.2222ZM40.6662 17.6667C42.7437 17.6667 44.7361 16.8414 46.2052 15.3723C47.6742 13.9033 48.4995 11.9109 48.4995 9.83333C48.4995 7.7558 47.6742 5.76336 46.2052 4.29433C44.7361 2.8253 42.7437 2 40.6662 2C38.5886 2 36.5962 2.8253 35.1272 4.29433C33.6581 5.76336 32.8328 7.7558 32.8328 9.83333C32.8328 11.9109 33.6581 13.9033 35.1272 15.3723C36.5962 16.8414 38.5886 17.6667 40.6662 17.6667ZM9.33285 35.9444C11.4104 35.9444 13.4028 35.1191 14.8718 33.6501C16.3409 32.1811 17.1662 30.1886 17.1662 28.1111C17.1662 26.0336 16.3409 24.0411 14.8718 22.5721C13.4028 21.1031 11.4104 20.2778 9.33285 20.2778C7.25532 20.2778 5.26288 21.1031 3.79384 22.5721C2.32481 24.0411 1.49951 26.0336 1.49951 28.1111C1.49951 30.1886 2.32481 32.1811 3.79384 33.6501C5.26288 35.1191 7.25532 35.9444 9.33285 35.9444V35.9444Z"
                                                stroke="#939393" stroke-width="3" stroke-linecap="round"
                                                stroke-linejoin="round" />
                                            <path d="M34.1364 13.75L15.8586 24.1944M15.8586 32.0278L34.1364 42.4722"
                                                stroke="#939393" stroke-width="3" />
                                        </svg>

                                    </li>

                                </ul>
                                <span class="glass-victor"
                                    style="list-style: none; position: absolute ; left: 30px; bottom: 20px;">
                                    <svg width="40" height="46" viewBox="0 0 56 56" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path d="M21.4667 27.3H33.1333" stroke="#939393" stroke-width="3"
                                            stroke-linecap="round" stroke-linejoin="round" />
                                        <path d="M27.3 33.1333V21.4667" stroke="#939393" stroke-width="3"
                                            stroke-linecap="round" stroke-linejoin="round" />
                                        <path
                                            d="M26.8333 49C39.0756 49 49 39.0756 49 26.8333C49 14.591 39.0756 4.66666 26.8333 4.66666C14.591 4.66666 4.66663 14.591 4.66663 26.8333C4.66663 39.0756 14.591 49 26.8333 49Z"
                                            stroke="#939393" stroke-width="3" stroke-linecap="round"
                                            stroke-linejoin="round" />
                                        <path d="M51.3333 51.3333L46.6666 46.6667" stroke="#939393" stroke-width="3"
                                            stroke-linecap="round" stroke-linejoin="round" />
                                    </svg>


                                </span>

                                <div class="py-15 px-15" style="border: 1px solid #E5E5E5; border-radius: 7px;">
                                    <img class=""
                                        src="../../assets/images/centrum-centrum-multigummies-150-units 3big-centum.png"
                                        alt="" style="width: 100%; ">
                                </div>
                            </div>

                        </v-col>
                    </v-row>
                </v-col>
                <!-- ============================third col================================ -->
                <v-col cols="12" sm="12" md="12" lg="5" :style="detailColStyle">
                    <v-row justify="center">
                        <v-col cols="12">
                            <div class="contain-thid-part">
                                <div class="first-part" style="border: 2px solid #C5C5C5; border-radius: 10px;">
                                    <div class="  d-flex justify-space-between ">
                                        <img src="../../assets/images/Rectangle 4409.png" alt="" style="width: 100px;">
                                        <div class="more-brand " :style="moreBrandStyle">
                                            <p style="font-weight: 700;">ORIGINAL 100%</p>
                                            <a href="#" style="color: #939393;">المزيد من هذه الماركة</a>
                                        </div>
                                    </div>
                                </div>
                                <!-- ================== -->
                                <div class="second-part mt-3">
                                    <div class="d-flex justify-space-between align-center ">
                                        <p style="font-weight: 700; font-size: 18px; line-height: 34.13px;">سنتروم</p>
                                        <p
                                            style="color: var(--mainColor); font-weight: 500; font-size: 16px; line-height: 26.82px;">
                                            اكسب 10
                                            نقاط</p>
                                    </div>
                                    <p
                                        style="text-align: right; color: #939393; font-weight: 400; font-size: 18px; line-height: 29.26px;">
                                        فيتامينات متعددة للطاقة - 30 قرص</p>
                                </div>
                                <!-- ================================ -->
                                <div class="star d-flex mt-3">
                                    <div
                                        style="background-color: var(--mainColor); width: 60px; border-radius: 5px; padding: 2px 4px;">

                                        <svg width="18" height="18" viewBox="0 0 18 18" fill="none"
                                            xmlns="http://www.w3.org/2000/svg"
                                            xmlns:xlink="http://www.w3.org/1999/xlink">
                                            <rect x="0.499878" y="0.5" width="17" height="17"
                                                fill="url(#pattern0_385_82)" />
                                            <defs>
                                                <pattern id="pattern0_385_82" patternContentUnits="objectBoundingBox"
                                                    width="1" height="1">
                                                    <use xlink:href="#image0_385_82" transform="scale(0.0588235)" />
                                                </pattern>
                                                <image id="image0_385_82" width="17" height="17"
                                                    xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAAXNSR0IArs4c6QAAAQFJREFUOE+dk31RA0EUw39xAA6QAA6KAooDqgBQ0KKAogAJFAd1gASQgIMwubnt3Ndeh3szN/vHvstL8rLiTNl+AA6SfmutmsOwfQV8A2tJn0tB3oEwOUq6XQoSFmGTuqxJqsqxvQY+OtN3kl6m2JxAWv2lJ9Mf40Xnpxh7D+RsTJb005y2t8Du3JZm7g8NE9uvwNMCoCOw6cr5L6O9pOdGTne67evWzLKRKXLxIya/lcvRdtqEJh+1OjGYAykBq4GMgjfF5AuIrLnqBW/oSXkrBSDuZ/2Jfr5Svbc0BElj5IzMs30H7Ntn0PNlCBKAsNmUNA62dwEkCitJN1VjFwSOP5t6X9usa+c4AAAAAElFTkSuQmCC" />
                                            </defs>
                                        </svg>
                                        <span style="color: white; font-weight: 700; margin-right: 4px;">4.5</span>
                                    </div>

                                    <a href="" :style="evaluationStyle">
                                        245
                                        تقييمات </a>
                                </div>
                                <!-- =================== -->
                                <div class="pro-num text-start mt-3" style="font-size: 18px; font-weight: 500;">
                                    <p>رقم المنتج : 45099</p>
                                </div>
                                <!-- =================== -->
                                <div class="price-before text-start  mt-3" style="color: #939393; font-weight: 500;">
                                    <p>قبل : <del>1400.00</del> ر.س</p>
                                </div>
                                <!-- =================== -->

                                <div class="price-now  text-start  mt-3">
                                    <p style="font-weight: 700; font-size: 16px; color: black;"> الآن : 1300.00 ر.س
                                        <span style="color: #939393; ">(شامل القيمة المضافة) </span>
                                    </p>
                                </div>

                                <div class="offer text-start  mt-3 d-flex">
                                    <p> وفرت 130.00 ر.س </p>
                                    <span :style="discountStyle">خصم
                                        15%</span>
                                </div>
                                <!-- =================== -->
                                <div class="parent-box mt-10 ">
                                    <v-row class="squars d-flex ">
                                        <v-col cols="4">
                                            <div style="position: relative;">
                                                <div class="upper-box" :style="upperBoxStyle">
                                                    <p style=" font-weight: 600;"> افضل قيمة </p>
                                                </div>
                                                <div class="first-box" :style="firstBoxStyle">
                                                    <p> 3 عبوات</p>
                                                    <p> 1900 ر.س <span style="color: #C5C5C5;"> 2000 ر.س</span> </p>
                                                </div>
                                            </div>
                                        </v-col>
                                        <v-col cols="4">
                                            <div class="small-box" :style="smallBoxStyle">
                                                <p> 6 عبوات</p>
                                                <p> 1900 ر.س <span style="color: #C5C5C5;"> 2000 ر.س </span></p>
                                            </div>
                                        </v-col>
                                        <v-col cols="4">

                                            <div class="small-box">
                                                <p> 9 عبوات</p>
                                                <p> 1900 ر.س <span style="color: #C5C5C5;"> 2000 ر.س </span></p>
                                            </div>

                                        </v-col>
                                    </v-row>
                                </div>
                                <!-- =================== -->
                                <div class="btn-input d-flex  mt-5">
                                    <span class="btn-icon d-flex" :style="btnIconStyle">

                                        <input class="input-quantity" dir="rtl" id="input-quantity" min="1" value="1"
                                            type="number">

                                        <v-icon style="height: 24px; font-size: 18px; color: #939393;"
                                            class="mr-0">mdi-chevron-down</v-icon>
                                    </span>

                                    <v-btn @click="addToCart(item)" style="background: var(--btnColor);color: white;font-size: 17px;font-weight:
                                        700;letter-spacing: revert;width: 82%;padding: 9px 70px">
                                        {{ $t('button.firstBtn') }} </v-btn>

                                </div>

                            </div>
                        </v-col>
                    </v-row>

                </v-col>

            </v-row>
        </v-container>
    </div>
</template>

<script setup>
import { computed, ref } from 'vue';
import { useStore } from '@/store/index'; // Adjust the path according to your store file
import { useI18n } from 'vue-i18n';

// Setup the store and i18n
const store = useStore();
const { locale } = useI18n();

// Define a ref for the heart fill state
const isHeartFilled = ref(false);

// Function to dispatch the addToCart action
const addToCart = (product) => {
    console.log("product", product);
    store.addToCart(product);
};

// Computed properties for cart item count and styles
const cartItemCount = computed(() => store.cartItemCount);

const detailColStyle = computed(() => ({
    'margin-right': locale.value === 'ar' ? '64px' : '0',
    'margin-left': locale.value === 'ar' ? '0' : '64px',
}));

const moreBrandStyle = computed(() => ({
    'margin-left': locale.value === 'ar' ? '130px' : '0',
    'margin-right': locale.value === 'ar' ? '0' : '110px',
    marginTop: '4px',
}));

const evaluationStyle = computed(() => ({
    color: 'var(--mainColor)',
    fontWeight: '400',
    fontSize: '16px',
    'margin-right': locale.value === 'ar' ? '10px' : '0',
    'margin-left': locale.value === 'ar' ? '0' : '10px',
}));

const discountStyle = computed(() => ({
    'margin-right': locale.value === 'ar' ? '15px' : '0',
    'margin-left': locale.value === 'ar' ? '0' : '15px',
    backgroundColor: 'rgb(229, 62, 62)',
    color: 'white',
    fontWeight: '700',
    fontSize: '13px',
    padding: '3px 5px',
    borderRadius: '5px',
}));

const btnIconStyle = computed(() => ({
    border: '1px solid #E5E5E5',
    width: '60px',
    padding: '6px',
    'margin-left': locale.value === 'ar' ? '30px' : '0',
    borderRadius: '8px',
    'margin-right': locale.value === 'ar' ? '0' : '30px',
}));

const smallBoxStyle = computed(() => ({
    'margin-left': locale.value === 'ar' ? '12px' : '0',
    'margin-right': locale.value === 'ar' ? '0' : '12px',
}));

const firstBoxStyle = computed(() => ({
    'margin-left': locale.value === 'ar' ? '12px' : '0',
    'margin-right': locale.value === 'ar' ? '0' : '12px',
}));

const upperBoxStyle = computed(() => ({
    right: locale.value === 'ar' ? '4px' : '16px',
}));

// Method to toggle the heart fill state
const toggleHeart = () => {
    isHeartFilled.value = !isHeartFilled.value;
};
</script>


<style scoped>
.v-locale--is-ltr {
    direction: unset;
}

.v-container {
    max-width: none;
}

.red-heart path {
    fill: red;
}

.potilss li {
    width: 85%;
    border: 1px solid #E5E5E5;
    border-radius: 7px;
    margin-bottom: 10px;
    text-align: center;
}

.upper-box {
    width: 110px;
    border-radius: 20px;
    position: absolute;
    right: 4px;
    bottom: 55px;
    background-color: var(--mainColor);
    color: #ffffff;
    font-size: 12px;
    padding: 3px;


}

.first-box {
    font-weight: 600;
    padding: 10px;
    border-radius: 5px;
    border-right: 1px solid var(--mainColor);
    border-bottom: 1px solid var(--mainColor);
    border-left: 1px solid var(--mainColor);
    font-size: 12px;
}

.small-box {
    font-weight: 600;
    padding: 10px;
    border-radius: 5px;
    border: 1px solid #C5C5C5;
    font-size: 12px;
    text-align: right;
}

.input-quantity {
    width: 25px;
    text-align: center;

    border-radius: 5px;
}

input[type=number]::-webkit-inner-spin-button,
input[type=number]::-webkit-outer-spin-button {
    -webkit-appearance: none;
    margin: 0;
}

input[type=number] {
    -moz-appearance: textfield;
    -webkit-appearance: textfield;
    /* Firefox */
}



@media (max-width:834px) {
    /* .small-potiles {
        margin-right: 51px;
    } */

    .potilss li {
        display: inline-block;
        width: 15% !important;
        margin-left: 20px;
    }

    .big-bottel {
        display: inline-block;
        width: 50%;
        align-content: center;
    }

    .heart-icon {
        position: absolute;
        right: 5px;
        top: 20px;
        cursor: pointer;
    }

    .share-icon {
        position: absolute;
        right: 5px;
        top: 70px;

    }

    .glass-victor svg {
        list-style: none;
        position: absolute;
        left: 10px;
        bottom: 20px;
    }

    .contain-thid-part {

        display: inline-block;
        width: 50%;
        align-content: center;
        margin-left: 130px;

    }

    .upper-box {
        position: absolute;
        right: 4px;
        bottom: 71px;
        width: 100px;
    }

}

@media (max-width:375px) {
    .title {
        font-size: 14px;
    }

    /* .small-potiles {
        margin-right: -27px;
    } */

    .potilss li {
        display: inline-block;
        width: 22% !important;

    }

    .potilss img {
        width: 35.53px !important;
        height: 49.53px !important;

    }



    .big-bottel {
        display: inline-block;
        width: 80%;
        align-content: center;
    }

    .heart-icon {
        position: absolute;
        right: 5px;
        top: 20px !important;
    }

    .heart-icon svg {
        width: 30px;
        height: 28px
    }

    .share-icon {
        position: absolute;
        right: 5px;
        top: 70px;
    }

    .share-icon svg {
        width: 32px;
        height: 30px
    }


    .glass-victor svg {
        position: absolute;
        left: 5px;
        bottom: 10px;

    }

    /* ============= */
    .contain-thid-part {
        width: 80%;
        align-content: center;
        margin-left: 0 !important;
        position: relative;
        left: 63px;
    }

    .first-part img {
        width: 35% !important;

    }

    .first-part p,
    a {
        font-size: 10px;
    }

    .more-brand {
        margin-left: 27px !important;
    }

    .second-part p {
        font-size: 15px !important;
    }

    .star a {

        font-size: 15px !important;
    }

    .pro-num p {
        font-size: 15px !important;

    }

    .price-before p {
        font-size: 15px !important;
    }

    .price-now p {
        font-size: 15px !important;
    }

    .offer p,
    span {
        font-size: 15px !important;
    }

    .parent-box {
        margin-right: 50px !important;
    }

    .squars {
        display: inline !important;
    }

    .squars p {
        font-size: 12px !important;
        align-items: center;
    }

    .first-box {
        margin-bottom: 20px;
        width: 64%;
    }

    .first-box p {
        font-size: 12px !important;
    }

    .first-box p span {
        font-size: 10px !important;
    }


    .small-box {
        margin-bottom: 20px;
        width: 64%;
    }

    .small-box p {
        font-size: 12px !important;
    }

    .small-box p span {
        font-size: 10px !important;
    }


    .upper-box {
        position: absolute;
        right: 5px !important;
        bottom: 50px;
        width: 120px;
    }

    /* =============== */
    .btn-input {
        display: inline !important;
    }

    .btn-icon {
        margin-bottom: 20px;
        margin-right: 100px;
    }

    .v-btn {

        width: 100% !important;
        padding: 4px 30px !important;
        margin-right: -30px !important;
    }
}
</style>
